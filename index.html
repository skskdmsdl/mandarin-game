<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <!-- SEO 메타태그 -->
    <meta
      name="description"
      content="만다린 숫자 합계 10 게임 - 재미있는 두뇌 게임"
    />
    <meta
      name="keywords"
      content="만다린, 게임, 숫자, 두뇌게임, 퍼즐, 사과, 사과게임"
    />

    <!-- Google AdSense (Auto Ads) -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5192370055620596"
      crossorigin="anonymous"
    ></script>

    <!-- AdSense 메타태그 -->
    <meta name="google-adsense-account" content="ca-pub-5192370055620596" />

    <!-- Open Graph 메타태그 - 카카오톡 공유용 -->
    <meta property="og:title" content="만다린 10 게임" />
    <meta
      property="og:description"
      content="만다린을 선택해서 합이 10이 되도록 하세요!"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.mandarin10.store/" />
    <meta
      property="og:image"
      content="https://www.mandarin10.store/images/og.jpg"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="만다린 10 게임" />
    <meta property="og:locale" content="ko_KR" />

    <!-- Twitter 메타태그 -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="만다린 10 게임" />
    <meta
      name="twitter:description"
      content="만다린을 선택해서 합이 10이 되도록 하세요!"
    />
    <meta
      name="twitter:image"
      content="https://www.mandarin10.store/images/og.jpg"
    />

    <link rel="stylesheet" href="css/style.css" />

    <title>만다린 10 게임</title>
    <link rel="stylesheet" href="css/style.css" />

    <script>
      // 카카오 SDK 초기화
      window.kakaoInit = function () {
        if (typeof Kakao !== "undefined") {
          Kakao.init(window.__ENV__?.KAKAO_JS_KEY);
          console.log("Kakao SDK initialized:", Kakao.isInitialized());
        }
      };

      // 카카오 SDK 동적 로드
      (function () {
        var script = document.createElement("script");
        script.src = "https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js";
        script.integrity =
          "sha384-kYPsUbBvlkt74G/57unWLcuuSdUX2sCY3lF3F2VgOTuQEJ0qCEZJ1V2zRGMJ5Q7q";
        script.crossOrigin = "anonymous";
        script.onload = window.kakaoInit;
        document.head.appendChild(script);
      })();
    </script>

    <!-- 진단용 코드를 head에 추가 -->
    <script>
      // 현재 메타태그 상태 확인
      window.onload = function () {
        const metaTags = document.querySelectorAll('meta[property^="og:"]');
        console.log("=== 현재 OG 메타태그 상태 ===");
        metaTags.forEach((tag) => {
          console.log(
            `${tag.getAttribute("property")}: ${tag.getAttribute("content")}`
          );
        });

        // 이미지 로드 테스트
        const testImage = new Image();
        testImage.onload = function () {
          console.log("✅ OG 이미지 로드 성공");
        };
        testImage.onerror = function () {
          console.log("❌ OG 이미지 로드 실패");
        };
        testImage.src =
          document
            .querySelector('meta[property="og:image"]')
            ?.getAttribute("content") || "";
      };
    </script>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>🍊 만다린 10 게임</h1>
      </div>

      <div class="stats">
        <div class="stat-box">
          <div class="stat-value" id="score">0</div>
          <div class="stat-label">현재 점수</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="bestScore">0</div>
          <div class="stat-label">최고 점수</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="timeLeft">90</div>
          <div class="stat-label">남은 시간</div>
        </div>
      </div>

      <div class="time-bar">
        <div class="time-progress" id="timeProgress"></div>
      </div>

      <div class="game-container">
        <canvas id="gameCanvas"></canvas>
        <div class="message" id="message"></div>
        <div class="start-message" id="startMessage">
          🎮 게임 시작 버튼을 눌러 시작하세요!
          <br /><br />
          <small>게임이 시작되면 숫자가 보입니다</small>
        </div>
      </div>

      <div class="controls">
        <button id="restartBtn">게임 시작</button>
        <button id="shareBtn" class="share-btn">공유하기</button>
      </div>

      <div class="instructions">
        <h3>🎯 게임 방법</h3>
        <p>• 드래그하여 만다린을 선택하세요</p>
        <p>• 선택한 만다린 숫자의 합이 <strong>정확히 10</strong>이면 성공!</p>
        <p>• 성공시 만다린이 사라지고 점수를 얻습니다</p>
        <p>• 90초 동안 최대한 많은 점수를 얻어보세요!</p>
      </div>
    </div>

    <script src="js/game.js"></script>
  </body>
</html>
